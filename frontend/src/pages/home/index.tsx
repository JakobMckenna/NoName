import axios from "axios";
import Document from "next/document";
import Head from "next/head";
import { useRouter } from "next/router";
import { useEffect, useState } from "react";
import Drawer from "~/components/drawer";

import Navbar from "~/components/navbar";
import ProjectModal from "~/components/projectmdl";
import useCommits from "~/hooks/use_commits";
import useGetReq from "~/hooks/use_fetch";
import useUser from "~/hooks/use_user";

function RepoCard() {
    return (
        <div className="card glass w-96  shadow-xl mr-12 max-h-64">

            <div className="card-body items-center text-center h-full">
                <h2 className="card-title">Projects</h2>
                <ul>

                </ul>
                <div className="card-actions justify-start">
                        <button className="btn btn-secondary  btn-link" onClick={() => document.getElementById('my_modal_3').showModal()}>Add Project</button>
                </div>
            </div>
        </div>
    )
}

function TaskCard() {
    return (
        <div className="card glass w-96  shadow-xl mr-12 max-h-64">

            <div className="card-body items-center text-center h-full">
                <h2 className="card-title">Tasks</h2>
                <ul>

                </ul>
                <div className="card-actions justify-start">
                    <button className="btn btn-secondary  btn-link">Add Task</button>
                </div>
            </div>
        </div>
    )
}

function StatsCard() {
    return (
        <div className="card glass w-96  shadow-xl mr-12 max-h-64">

            <div className="card-body items-center text-center h-full">
                <h2 className="card-title">Statistics</h2>
                <ul>

                </ul>
            </div>
        </div>
    )
}

function MenuCard() {
    return (
        <div className="card  glass w-96  shadow-xl mr-12 max-h-56 ">

            <div className="card-body items-center text-center h-full">
                <h2 className="card-title">Research Links</h2>
                <ul>

                </ul>
            </div>
        </div>
    )
}


export default function LandingPage() {
    //const [loading ,setLoading] = useState(true)
    // const [user ,setUser] =useState<any>(null)
    const router = useRouter();
    const [user, loading] = useUser()

    //const [commits ,lc] = useCommits({maintainer:"JakobMckenna",project:"NoName"})
    const getCommits = async () => {
        const res = await axios.get("http://localhost:5000/github/commits/JakobMckenna/NoName")
        return res.data
    }

    useEffect(
        () => {
            //console.log(commits)

            //console.log(loading)
            //console.log(user)


        }, [loading, user]
    )
    return (
        <div>
            <Head>
                <title>DevDiaries | user</title>
                <meta name="description" content="Generated by create-t3-app" />
                <link rel="icon" href="/favicon.ico" />
            </Head>
            <Navbar userName={user?.email}/>
            <main className="container ml-80 pl-10">
                <div className="flex flex-row mb-10">
                    <RepoCard />
                    <TaskCard />
                </div>
                <div className="flex flex-row">
                    <StatsCard />
                    <MenuCard />
                </div>
            </main>
            <ProjectModal userID={user?.id} />
        </div>
    )
} 